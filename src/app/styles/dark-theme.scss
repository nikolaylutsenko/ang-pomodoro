@use '@angular/material' as mat;

$dark-primary: mat.define-palette(mat.$blue-grey-palette, 700, 300, 900);
$dark-accent: mat.define-palette(mat.$amber-palette, A200, A100, A400);
$dark-warn: mat.define-palette(mat.$deep-orange-palette);

$dark-theme: mat.define-dark-theme((
  color: (
    primary: $dark-primary,
    accent: $dark-accent,
    warn: $dark-warn,
  )
));

.dark-theme {
  @include mat.core-theme($dark-theme);
  @include mat.button-theme($dark-theme);
  @include mat.toolbar-theme($dark-theme);
  @include mat.tabs-theme($dark-theme);
  // -- ADD COMPONENT THEMES --
  @include mat.card-theme($dark-theme);
  @include mat.button-toggle-theme($dark-theme);
  @include mat.form-field-theme($dark-theme);
  @include mat.select-theme($dark-theme);
  @include mat.icon-theme($dark-theme);
  // -- END COMPONENT THEMES --
  // Include other component themes here
  @include mat.list-theme($dark-theme);
  @include mat.divider-theme($dark-theme);

  // Custom styles for timer component in dark theme
  .timer-container {
    background-color: mat.get-color-from-palette(mat.$grey-palette, 800);
    color: mat.get-color-from-palette(mat.$grey-palette, 200);

    .mode-btn.work.mat-button-toggle-checked {
      background-color: mat.get-color-from-palette($dark-primary, 600);
      color: mat.get-color-from-palette(mat.$grey-palette, 50);
    }
    .mode-btn.short-break.mat-button-toggle-checked {
      background-color: mat.get-color-from-palette($dark-accent, 600);
      color: mat.get-color-from-palette(mat.$grey-palette, 900); // Darker text for amber bg
    }
    .mode-btn.long-break.mat-button-toggle-checked {
      background-color: mat.get-color-from-palette(mat.$deep-orange-palette, 600);
      color: mat.get-color-from-palette(mat.$grey-palette, 50);
    }

    .time {
      color: mat.get-color-from-palette($dark-primary, 300);
    }

    .current-task-info {
      background-color: mat.get-color-from-palette(mat.$grey-palette, 700);
      border: 1px solid mat.get-color-from-palette(mat.$grey-palette, 600);
    }
  }

  // Custom styles for timer-history component in dark theme
  .history-section.mat-mdc-card {
    background-color: mat.get-color-from-palette(mat.$grey-palette, 800);
    color: mat.get-color-from-palette(mat.$grey-palette, 100);

    .history-header-container {
      border-bottom-color: mat.get-color-from-palette(mat.$grey-palette, 700);
    }

    .history-legend {
      color: mat.get-color-from-palette(mat.$grey-palette, 400);
      border-bottom-color: mat.get-color-from-palette(mat.$grey-palette, 700);
    }

    .history-item {
      .entry-type.work {
        color: mat.get-color-from-palette($dark-primary, 300);
      }
      .entry-type.shortBreak {
        color: mat.get-color-from-palette($dark-accent, 300);
      }
      .entry-type.longBreak {
        color: mat.get-color-from-palette(mat.$deep-orange-palette, 300);
      }

      .entry-status.successful mat-icon {
        color: mat.get-color-from-palette(mat.$green-palette, 400);
      }
      .entry-status:not(.successful) mat-icon {
        color: mat.get-color-from-palette($dark-warn, 400);
      }
    }

    .no-history {
      color: mat.get-color-from-palette(mat.$grey-palette, 300);
      .no-history-icon {
        color: mat.get-color-from-palette(mat.$grey-palette, 500);
      }
      .no-history-subtitle {
        color: mat.get-color-from-palette(mat.$grey-palette, 400);
      }
    }
  }
}
