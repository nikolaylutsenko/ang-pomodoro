<div class="timer-container">
  <div class="mode-buttons">
    <button 
      [class.active]="currentMode === 'work'"
      (click)="setMode('work')"
      class="mode-btn">
      Work
    </button>
    <button 
      [class.active]="currentMode === 'shortBreak'"
      (click)="setMode('shortBreak')"
      class="mode-btn">
      Short Break
    </button>
    <button 
      [class.active]="currentMode === 'longBreak'"
      (click)="setMode('longBreak')"
      class="mode-btn">
      Long Break
    </button>
  </div>

  <div class="timer">
    <span class="time">{{ minutes }}:{{ seconds | number:'2.0' }}</span>
  </div>

  <div class="task-input">
    <input 
      type="text" 
      [(ngModel)]="taskDescription"
      (ngModelChange)="updateTaskDescription($event)"
      placeholder="What are you working on?"
      [class.has-value]="taskDescription.length > 0">
    <button 
      class="clear-task-btn"
      *ngIf="taskDescription.length > 0"
      (click)="clearTaskDescription()">
      Ã—
    </button>
  </div>

  <div class="controls">
    <button 
      (click)="toggleTimer()"
      class="control-btn"
      [class.active]="isRunning"
      [attr.aria-label]="isRunning ? 'Pause timer' : 'Start timer'">
      <i class="fas" [class.fa-pause]="isRunning" [class.fa-play]="!isRunning"></i>
    </button>
    <button 
      (click)="stopTimer()"
      class="control-btn stop-btn"
      aria-label="Stop timer">
      <i class="fas fa-stop"></i>
    </button>
  </div>

  <app-timer-history></app-timer-history>
</div> 